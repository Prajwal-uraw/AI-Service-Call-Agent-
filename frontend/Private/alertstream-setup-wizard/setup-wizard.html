<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlertStream Setup</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background: #f5f7fa;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .setup-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 800px;
            overflow: hidden;
        }
        
        .setup-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .setup-header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .setup-header p {
            opacity: 0.9;
            font-size: 16px;
        }
        
        .setup-steps {
            display: flex;
            padding: 0;
            margin: 0;
            list-style: none;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .step {
            flex: 1;
            text-align: center;
            padding: 20px;
            font-weight: 500;
            color: #6c757d;
            position: relative;
        }
        
        .step.active {
            color: #667eea;
            font-weight: 600;
        }
        
        .step.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: #667eea;
        }
        
        .setup-content {
            padding: 40px;
        }
        
        .step-content {
            display: none;
        }
        
        .step-content.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .integration-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .integration-card {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .integration-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .integration-card.active {
            border-color: #667eea;
            background: #f8f9ff;
        }
        
        .integration-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }
        
        .integration-card h3 {
            margin-bottom: 10px;
            color: #333;
        }
        
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .code-block code {
            display: block;
            white-space: pre;
        }
        
        .copy-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: background 0.3s;
        }
        
        .copy-btn:hover {
            background: #5a67d8;
        }
        
        .btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #e9ecef;
        }
        
        .btn {
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5a67d8;
        }
        
        .btn-secondary {
            background: #e9ecef;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #dee2e6;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .success-screen {
            text-align: center;
            padding: 60px 40px;
        }
        
        .success-icon {
            font-size: 80px;
            color: #48bb78;
            margin-bottom: 20px;
        }
        
        .success-screen h2 {
            color: #333;
            margin-bottom: 15px;
        }
        
        .success-screen p {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .integration-badge {
            display: inline-block;
            background: #e9ecef;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            margin: 0 5px;
        }
        
        @media (max-width: 768px) {
            .setup-container {
                margin: 10px;
            }
            
            .setup-content {
                padding: 20px;
            }
            
            .integration-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="setup-container" id="setupWizard">
        <div class="setup-header">
            <h1>Connect AlertStream in 60 Seconds</h1>
            <p>Choose your integration method and start receiving SMS alerts</p>
        </div>
        
        <ul class="setup-steps">
            <li class="step active" data-step="1">1. Choose Platform</li>
            <li class="step" data-step="2">2. Configure</li>
            <li class="step" data-step="3">3. Install</li>
            <li class="step" data-step="4">4. Done</li>
        </ul>
        
        <div class="setup-content">
            <!-- Step 1: Choose Platform -->
            <div class="step-content active" id="step1">
                <h2>Where do you want to install AlertStream?</h2>
                <p>Select your platform to get customized installation instructions</p>
                
                <div class="integration-options">
                    <div class="integration-card" data-platform="wordpress">
                        <div class="integration-icon">ðŸ”Œ</div>
                        <h3>WordPress</h3>
                        <p>Plugin installation with deep integration</p>
                    </div>
                    
                    <div class="integration-card" data-platform="js">
                        <div class="integration-icon">ðŸ“œ</div>
                        <h3>JavaScript Snippet</h3>
                        <p>Copy & paste code on any website</p>
                    </div>
                    
                    <div class="integration-card" data-platform="shopify">
                        <div class="integration-icon">ðŸ›’</div>
                        <h3>Shopify</h3>
                        <p>App store installation</p>
                    </div>
                    
                    <div class="integration-card" data-platform="zapier">
                        <div class="integration-icon">âš¡</div>
                        <h3>Zapier</h3>
                        <p>Connect to 5000+ apps</p>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" disabled>Back</button>
                    <button class="btn btn-primary" id="nextStep1" disabled>Next</button>
                </div>
            </div>
            
            <!-- Step 2: Configure -->
            <div class="step-content" id="step2">
                <h2>Configure Your AlertStream</h2>
                <p>Enter your details to generate installation code</p>
                
                <form id="configForm">
                    <div class="form-group">
                        <label for="userEmail">Your Email</label>
                        <input type="email" id="userEmail" class="form-control" required placeholder="you@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="userPhone">Phone Number for SMS</label>
                        <input type="tel" id="userPhone" class="form-control" required placeholder="+1234567890">
                    </div>
                    
                    <div class="form-group">
                        <label for="websiteUrl">Website URL</label>
                        <input type="url" id="websiteUrl" class="form-control" required placeholder="https://example.com">
                    </div>
                    
                    <div class="form-group">
                        <label>Events to Monitor</label>
                        <div style="margin-top: 10px;">
                            <label style="display: block; margin-bottom: 10px;">
                                <input type="checkbox" name="events" value="form_submit" checked>
                                Form Submissions
                            </label>
                            <label style="display: block; margin-bottom: 10px;">
                                <input type="checkbox" name="events" value="order_created">
                                New Orders
                            </label>
                            <label style="display: block; margin-bottom: 10px;">
                                <input type="checkbox" name="events" value="user_signup">
                                User Signups
                            </label>
                        </div>
                    </div>
                </form>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" id="backStep2">Back</button>
                    <button class="btn btn-primary" id="nextStep2">Generate Code</button>
                </div>
            </div>
            
            <!-- Step 3: Install -->
            <div class="step-content" id="step3">
                <h2>Install AlertStream</h2>
                <p id="platformInstructions">Follow these steps to install on your website</p>
                
                <div id="installationCode" style="display: none;">
                    <h3>Installation Code:</h3>
                    <div class="code-block">
                        <code id="codeSnippet"></code>
                    </div>
                    <button class="copy-btn" onclick="copyCode()">Copy Code</button>
                    
                    <div id="additionalInstructions" style="margin-top: 30px;"></div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" id="backStep3">Back</button>
                    <button class="btn btn-primary" id="nextStep3">I've Installed It</button>
                </div>
            </div>
            
            <!-- Step 4: Success -->
            <div class="step-content" id="step4">
                <div class="success-screen">
                    <div class="success-icon">âœ…</div>
                    <h2>Setup Complete!</h2>
                    <p>Your AlertStream integration is now active. You'll start receiving SMS alerts for:</p>
                    
                    <div id="activeEvents" style="margin: 20px 0;"></div>
                    
                    <p><strong>Next Steps:</strong></p>
                    <ul style="text-align: left; display: inline-block; margin: 20px 0;">
                        <li style="margin-bottom: 10px;">Test your setup by submitting a form on your website</li>
                        <li style="margin-bottom: 10px;">Check your phone for the test SMS</li>
                        <li>Visit your dashboard to customize alerts</li>
                    </ul>
                    
                    <div style="margin-top: 30px;">
                        <button class="btn btn-primary" onclick="goToDashboard()">Go to Dashboard</button>
                        <button class="btn btn-secondary" onclick="restartSetup()">Add Another Site</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedPlatform = '';
        let generatedApiKey = '';
        let generatedSiteId = '';
        
        // Platform selection
        document.querySelectorAll('.integration-card').forEach(card => {
            card.addEventListener('click', () => {
                // Remove active class from all cards
                document.querySelectorAll('.integration-card').forEach(c => {
                    c.classList.remove('active');
                });
                
                // Add active class to clicked card
                card.classList.add('active');
                selectedPlatform = card.dataset.platform;
                
                // Enable next button
                document.getElementById('nextStep1').disabled = false;
            });
        });
        
        // Step navigation
        document.getElementById('nextStep1').addEventListener('click', () => {
            navigateToStep(2);
        });
        
        document.getElementById('backStep2').addEventListener('click', () => {
            navigateToStep(1);
        });
        
        document.getElementById('nextStep2').addEventListener('click', async () => {
            // Validate form
            const email = document.getElementById('userEmail').value;
            const phone = document.getElementById('userPhone').value;
            const url = document.getElementById('websiteUrl').value;
            
            if (!email || !phone || !url) {
                alert('Please fill in all fields');
                return;
            }
            
            // Get selected events
            const selectedEvents = [];
            document.querySelectorAll('input[name="events"]:checked').forEach(checkbox => {
                selectedEvents.push(checkbox.value);
            });
            
            if (selectedEvents.length === 0) {
                alert('Please select at least one event to monitor');
                return;
            }
            
            // Generate API credentials
            generatedApiKey = 'as_' + Math.random().toString(36).substr(2, 16);
            generatedSiteId = 'site_' + Math.random().toString(36).substr(2, 8);
            
            // Show installation instructions
            await navigateToStep(3);
            showInstallationInstructions();
        });
        
        document.getElementById('backStep3').addEventListener('click', () => {
            navigateToStep(2);
        });
        
        document.getElementById('nextStep3').addEventListener('click', () => {
            navigateToStep(4);
            showSuccessScreen();
        });
        
        function navigateToStep(step) {
            // Update step indicators
            document.querySelectorAll('.step').forEach(s => {
                s.classList.remove('active');
                if (parseInt(s.dataset.step) <= step) {
                    s.classList.add('active');
                }
            });
            
            // Hide all step content
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show current step content
            document.getElementById(`step${step}`).classList.add('active');
            currentStep = step;
        }
        
        function showInstallationInstructions() {
            const instructions = document.getElementById('platformInstructions');
            const codeSnippet = document.getElementById('codeSnippet');
            const additional = document.getElementById('additionalInstructions');
            const installDiv = document.getElementById('installationCode');
            
            installDiv.style.display = 'block';
            
            switch(selectedPlatform) {
                case 'wordpress':
                    instructions.innerHTML = 'Install the AlertStream WordPress plugin:';
                    codeSnippet.textContent = `1. Download plugin from: https://alertstream.com/wordpress.zip
2. Go to WordPress Admin â†’ Plugins â†’ Add New
3. Click "Upload Plugin" and select the downloaded file
4. Activate the plugin
5. Go to Settings â†’ AlertStream
6. Enter API Key: ${generatedApiKey}`;
                    additional.innerHTML = '<p><strong>Plugin will automatically detect:</strong> Contact Form 7, WPForms, WooCommerce, and user registrations</p>';
                    break;
                    
                case 'js':
                    instructions.innerHTML = 'Add this code to your website (before the closing &lt;/head&gt; tag):';
                    codeSnippet.textContent = `<!-- AlertStream Integration -->
<script>
  window.alertstreamConfig = {
    apiKey: '${generatedApiKey}',
    siteId: '${generatedSiteId}',
    endpoint: 'https://api.alertstream.com/v1/js-events'
  };
</script>
<script src="https://cdn.alertstream.com/alertstream.min.js" async></script>
<!-- End AlertStream -->`;
                    additional.innerHTML = `<p><strong>Auto-detects:</strong> Form submissions, button clicks, page views</p>
<p><strong>Custom events:</strong> Add <code>data-alertstream-track="event_name"</code> to any element</p>`;
                    break;
                    
                case 'shopify':
                    instructions.innerHTML = 'Install from Shopify App Store:';
                    codeSnippet.textContent = `1. Go to your Shopify Admin
2. Click "Apps" in the sidebar
3. Search for "AlertStream"
4. Click "Add app"
5. Authorize the installation
6. Your API Key: ${generatedApiKey}`;
                    additional.innerHTML = '<p><strong>Auto-configures:</strong> Order alerts, customer signups, abandoned carts</p>';
                    break;
                    
                case 'zapier':
                    instructions.innerHTML = 'Connect AlertStream to Zapier:';
                    codeSnippet.textContent = `1. Go to: https://zapier.com/apps/alertstream/integrations
2. Click "Connect AlertStream"
3. Enter your API Key: ${generatedApiKey}
4. Choose a trigger (Form, Order, etc.)
5. Connect to any of 5000+ apps`;
                    additional.innerHTML = '<p><strong>Popular Zaps:</strong> Google Sheets â†’ SMS, Typeform â†’ SMS, Stripe â†’ SMS</p>';
                    break;
            }
        }
        
        function showSuccessScreen() {
            const selectedEvents = [];
            document.querySelectorAll('input[name="events"]:checked').forEach(checkbox => {
                selectedEvents.push(checkbox.value);
            });
            
            const eventsDiv = document.getElementById('activeEvents');
            eventsDiv.innerHTML = selectedEvents.map(event => 
                `<span class="integration-badge">${formatEventName(event)}</span>`
            ).join(' ');
        }
        
        function formatEventName(event) {
            const names = {
                'form_submit': 'ðŸ“ Form Submissions',
                'order_created': 'ðŸ›’ New Orders',
                'user_signup': 'ðŸ‘¤ User Signups'
            };
            return names[event] || event;
        }
        
        function copyCode() {
            const code = document.getElementById('codeSnippet').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.querySelector('.copy-btn');
                const originalText = btn.textContent;
                btn.textContent = 'âœ“ Copied!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            });
        }
        
        function goToDashboard() {
            window.open(`https://app.alertstream.com/dashboard?api_key=${generatedApiKey}`, '_blank');
        }
        
        function restartSetup() {
            // Reset form
            document.getElementById('configForm').reset();
            selectedPlatform = '';
            generatedApiKey = '';
            generatedSiteId = '';
            
            // Reset UI
            document.querySelectorAll('.integration-card').forEach(card => {
                card.classList.remove('active');
            });
            document.getElementById('installationCode').style.display = 'none';
            
            navigateToStep(1);
        }
        
        // Auto-fill demo values for testing
        if (window.location.href.includes('demo=true')) {
            document.getElementById('userEmail').value = 'demo@example.com';
            document.getElementById('userPhone').value = '+1234567890';
            document.getElementById('websiteUrl').value = 'https://example.com';
        }
    </script>
</body>
</html>
